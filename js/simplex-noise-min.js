(function(){var c=0.5*(Math.sqrt(3)-1),f=(3-Math.sqrt(3))/6,a=1/3,e=1/6,g=(Math.sqrt(5)-1)/4,b=(5-Math.sqrt(5))/20;function d(j){if(!j){j=Math.random}this.p=new Uint8Array(256);this.perm=new Uint8Array(512);this.permMod12=new Uint8Array(512);for(var h=0;h<256;h++){this.p[h]=j()*256}for(h=0;h<512;h++){this.perm[h]=this.p[h&255];this.permMod12[h]=this.perm[h]%12}}d.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(K,r){var q=this.permMod12,k=this.perm,n=this.grad3;var x=0,v=0,u=0;var C=(K+r)*c;var I=Math.floor(K+C);var H=Math.floor(r+C);var B=(I+H)*f;var O=I-B;var p=H-B;var N=K-O;var o=r-p;var G,h;if(N>o){G=1;h=0}else{G=0;h=1}var L=N-G+f;var m=o-h+f;var J=N-1+2*f;var l=o-1+2*f;var A=I&255;var M=H&255;var z=0.5-N*N-o*o;if(z>=0){var F=q[A+k[M]]*3;z*=z;x=z*z*(n[F]*N+n[F+1]*o)}var y=0.5-L*L-m*m;if(y>=0){var E=q[A+G+k[M+h]]*3;y*=y;v=y*y*(n[E]*L+n[E+1]*m)}var w=0.5-J*J-l*l;if(w>=0){var D=q[A+1+k[M+1]]*3;w*=w;u=w*w*(n[D]*J+n[D+1]*l)}return 70*(x+v+u)},noise3D:function(S,F,A){var G=this.permMod12,ac=this.perm,n=this.grad3;var J,I,H,E;var W=(S+F+A)*a;var aa=Math.floor(S+W);var Y=Math.floor(F+W);var X=Math.floor(A+W);var V=(aa+Y+X)*e;var U=aa-V;var B=Y-V;var l=X-V;var z=S-U;var h=F-B;var T=A-l;var o,ab,D;var m,Z,C;if(z>=h){if(h>=T){o=1;ab=0;D=0;m=1;Z=1;C=0}else{if(z>=T){o=1;ab=0;D=0;m=1;Z=0;C=1}else{o=0;ab=0;D=1;m=1;Z=0;C=1}}}else{if(h<T){o=0;ab=0;D=1;m=0;Z=1;C=1}else{if(z<T){o=0;ab=1;D=0;m=0;Z=1;C=1}else{o=0;ab=1;D=0;m=1;Z=1;C=0}}}var y=z-o+e;var ag=h-ab+e;var R=T-D+e;var x=z-m+2*e;var af=h-Z+2*e;var Q=T-C+2*e;var w=z-1+3*e;var ae=h-1+3*e;var P=T-1+3*e;var N=aa&255;var u=Y&255;var ad=X&255;var O=0.6-z*z-h*h-T*T;if(O<0){J=0}else{var v=G[N+ac[u+ac[ad]]]*3;O*=O;J=O*O*(n[v]*z+n[v+1]*h+n[v+2]*T)}var M=0.6-y*y-ag*ag-R*R;if(M<0){I=0}else{var r=G[N+o+ac[u+ab+ac[ad+D]]]*3;M*=M;I=M*M*(n[r]*y+n[r+1]*ag+n[r+2]*R)}var L=0.6-x*x-af*af-Q*Q;if(L<0){H=0}else{var q=G[N+m+ac[u+Z+ac[ad+C]]]*3;L*=L;H=L*L*(n[q]*x+n[q+1]*af+n[q+2]*Q)}var K=0.6-w*w-ae*ae-P*P;if(K<0){E=0}else{var p=G[N+1+ac[u+1+ac[ad+1]]]*3;K*=K;E=K*K*(n[p]*w+n[p+1]*ae+n[p+2]*P)}return 32*(J+I+H+E)},noise4D:function(N,L,K,P){var I=this.permMod12,ar=this.perm,h=this.grad4;var aA,az,ay,ax,aw;var S=(N+L+K+P)*g;var ad=Math.floor(N+S);var ab=Math.floor(L+S);var aa=Math.floor(K+S);var Y=Math.floor(P+S);var R=(ad+ab+aa+Y)*b;var ag=ad-R;var J=ab-R;var u=aa-R;var aq=Y-R;var H=N-ag;var r=L-J;var aL=K-u;var Z=P-aq;var ao=0;var an=0;var am=0;var ap=0;if(H>r){ao++}else{an++}if(H>aL){ao++}else{am++}if(H>Z){ao++}else{ap++}if(r>aL){an++}else{am++}if(r>Z){an++}else{ap++}if(aL>Z){am++}else{ap++}var av,al,Q,B;var au,ak,O,A;var at,aj,M,v;av=ao>=3?1:0;al=an>=3?1:0;Q=am>=3?1:0;B=ap>=3?1:0;au=ao>=2?1:0;ak=an>=2?1:0;O=am>=2?1:0;A=ap>=2?1:0;at=ao>=1?1:0;aj=an>=1?1:0;M=am>=1?1:0;v=ap>=1?1:0;var G=H-av+b;var q=r-al+b;var aK=aL-Q+b;var X=Z-B+b;var F=H-au+2*b;var p=r-ak+2*b;var aJ=aL-O+2*b;var W=Z-A+2*b;var E=H-at+3*b;var o=r-aj+3*b;var aI=aL-M+3*b;var V=Z-v+3*b;var D=H-1+4*b;var n=r-1+4*b;var aH=aL-1+4*b;var U=Z-1+4*b;var T=ad&255;var C=ab&255;var m=aa&255;var aC=Y&255;var aG=0.6-H*H-r*r-aL*aL-Z*Z;if(aG<0){aA=0}else{var ai=(ar[T+ar[C+ar[m+ar[aC]]]]%32)*4;aG*=aG;aA=aG*aG*(h[ai]*H+h[ai+1]*r+h[ai+2]*aL+h[ai+3]*Z)}var aF=0.6-G*G-q*q-aK*aK-X*X;if(aF<0){az=0}else{var ah=(ar[T+av+ar[C+al+ar[m+Q+ar[aC+B]]]]%32)*4;aF*=aF;az=aF*aF*(h[ah]*G+h[ah+1]*q+h[ah+2]*aK+h[ah+3]*X)}var aE=0.6-F*F-p*p-aJ*aJ-W*W;if(aE<0){ay=0}else{var af=(ar[T+au+ar[C+ak+ar[m+O+ar[aC+A]]]]%32)*4;aE*=aE;ay=aE*aE*(h[af]*F+h[af+1]*p+h[af+2]*aJ+h[af+3]*W)}var aD=0.6-E*E-o*o-aI*aI-V*V;if(aD<0){ax=0}else{var ae=(ar[T+at+ar[C+aj+ar[m+M+ar[aC+v]]]]%32)*4;aD*=aD;ax=aD*aD*(h[ae]*E+h[ae+1]*o+h[ae+2]*aI+h[ae+3]*V)}var aB=0.6-D*D-n*n-aH*aH-U*U;if(aB<0){aw=0}else{var ac=(ar[T+1+ar[C+1+ar[m+1+ar[aC+1]]]]%32)*4;aB*=aB;aw=aB*aB*(h[ac]*D+h[ac+1]*n+h[ac+2]*aH+h[ac+3]*U)}return 27*(aA+az+ay+ax+aw)}};if(typeof define!=="undefined"&&define.amd){define(function(){return d})}else{if(typeof window!=="undefined"){window.SimplexNoise=d}}if(typeof exports!=="undefined"){exports.SimplexNoise=d}if(typeof module!=="undefined"){module.exports=d}})();
